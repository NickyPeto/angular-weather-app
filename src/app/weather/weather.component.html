<div class="container" [class.daytime]="isDaytime">
  <div class="skyline"></div>
  <h2 class="title" aria-label="App title">
    What is the weather today in? ...
  </h2>

  <ng-container *ngFor="let item of $data | async">
    <ng-container *ngIf="item.location">
      <div class="weather-info">
        <div class="weather-location" aria-label="Location">
          <h3>{{ item.location.name }},</h3>
          <h3>{{ item.location.country }}</h3>
        </div>
        <div class="weather-temperature" aria-label="Temperature">
          <h3>Temperature:</h3>
          <h3>{{ item.current.temp_c }}Â° C</h3>
          <h3>{{ item.current.condition.text }}</h3>
        </div>
      </div>
    </ng-container>

    <ng-container *ngIf="!item.location">
      <h2>there has been a problem processing your request</h2>
    </ng-container>
  </ng-container>

  <div class="input-container">
    <label class="input-label" for="city-name-input">City</label>
    <input
      class="text-input"
      required="true"
      [formControl]="cityName"
      type="text"
      aria-label="city-name-input"
      [value]="cityName"
    />
    <ng-container
      *ngIf="cityName.invalid && (cityName.dirty || cityName.touched)"
    >
      <h3 class="error" aria-label="input-error">Please enter a city name</h3>
    </ng-container>
  </div>
  <button
    mat-button
    [disabled]="cityName.invalid"
    (click)="searchCities(cityName.value)"
    aria-label="button"
    class="search-btn"
    [class.disabled]="cityName.invalid && (cityName.dirty || cityName.touched)"
  >
    Search
  </button>
</div>
